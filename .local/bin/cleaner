#!/bin/bash

# Check if both arguments are provided
if [ $# -ne 2 ]; then
  notify-send "Latex Cleanup" "Error: Requires two arguments - directory and base name."
  exit 1
fi

DIR="$1"
BASE="$2"

# Check if the directory exists
if [ ! -d "$DIR" ]; then
  notify-send "Latex Cleanup" "Directory $DIR not found!"
  exit 1
fi

# Send a notification indicating the start of the cleanup process
notify-send "Latex Cleanup" "Cleaning LaTeX auxiliary files for $BASE in $DIR..."

# List of auxiliary extensions to clean
EXTENSIONS=(
  ".aux" ".log" ".tex" ".bbl" ".blg" ".bcf"
  ".run.xml" ".out" ".toc" ".idx" ".ind" ".synctex.gz"
)

# Loop through each extension and delete if exists
for EXT in "${EXTENSIONS[@]}"; do
  FILE="$DIR/$BASE$EXT"
  if [ -f "$FILE" ]; then
    rm -f "$FILE"
  fi
done

# Send a notification indicating the cleanup is completed
notify-send "Latex Cleanup" "Cleanup completed for $BASE in $DIR."
